<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0,maximum-scale=1.0,user-scale=0">
<link rel="stylesheet" type="text/css" th:href="@{/css/l1.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/add.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/catalog.css}" />
<title th:utext="#{label.updatePage}"></title>
</head>
<body>
	<div class="wrapper">
		<header class="header">
			<div class="container">
				<div class="header_row">
					<textarea id="message" hidden="true">Йо-хо-хо</textarea>
					<button id="speak" class="header_logo"> <img src="#"
						th:src="@{/images/logotip2.png}"></button>
					<div class="menu_burger">
						<span></span>
					</div>
<!-- 					<div class="brend">
						<img src="#" th:src="@{/images/logotip.png}">
					</div> -->
					<nav class="menu_body">
						<ul class="menu_list">
							<li><a th:href="@{/}" class="menu_link"
								th:utext="#{label.mainLink}"></a></li>
							<li><a th:href="@{/catalog}" class="menu_link"
								th:utext="#{label.catalogLink}"></a></li>
							<li><a th:href="@{/contacts}" class="menu_link"
								th:utext="#{label.contactsLink}"></a></li>
							<li><a th:href="@{/about-me}" class="menu_link"
								th:utext="#{label.aboutmeLink}"></a></li>
							<!-- 							<li>
								<div class="lang_link">
									<a th:href="@{lang(lang=en)}"><img src="#"
										th:src="@{/images/united_kingdom.png}"></a> <a
										th:href="@{lang(lang=ru)}"><img src="#"
										th:src="@{/images/russia.png}"></a> <a
										th:href="@{lang(lang=de)}"><img src="#"
										th:src="@{/images/germany.png}"></a>
								</div>
							</li> -->
							<li th:if="${cart.isEmpty()}">
								<a th:href="@{/basket}"><img src="#"
									th:src="@{/images/cart_empty1.png}"></a></li>
							<li th:if="${!cart.isEmpty()}">
								<a th:href="@{/basket}"><img src="#"
									th:src="@{/images/cart_full1.png}"></a></li>
							<li>
								<div sec:authorize="!isAuthenticated()">
									<a th:href="@{/login}"><img src="#"
										th:src="@{/images/icons-login2.png}"></a>
								</div>
								<div sec:authorize="isAuthenticated()">
									<div class="dropdown">
										<button onclick="myFunction()" class="dropbtn">
											<img src="#" th:src="@{/images/icons-login_succsess2.png}"> <span
												th:if="${userName != null}" th:text="${userName}"></span>
										</button>
										<div id="myDropdown" class="dropdown-content">
											<a href="#">Info</a> <a href="#">Orders</a> <a
												th:href="@{/logout}">Log Out</a>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>

		<main
			style="background-image: url(http://localhost:8080/main/images/fon_personal_page.jpg);">
			<div class="container">

				<h1 class="main_title">Product update form</h1>
				<div class="page">

					<div class="add_new_product">
						<form action="#" th:action="@{/update}" method="post"
							name="updateForm" enctype="multipart/form-data">
							<div>
								<input type="hidden" name="id" value="#"
									th:value="${product.id}" />
							</div>
							<div class="form-group row">
								Name: <input type="text" name="name" value="#" class="rounded-input"
									th:value="${product.name}" autofocus="autofocus">
							</div>
							<div class="form-group row">
								Price: <input type="text" name="price" value="#" class="rounded-input"
									th:value="${product.price}" min="0">
							</div>
							<div class="form-group row">
								Type: <input type="text" name="typeProduct" value="#" class="rounded-input"
									th:value="${product.typeProduct.name}">
							</div>
							<div class="form-group">
								Description:
								<textarea name="description" cols="30" rows="10"
									style="resize: none; border-radius: 10px;"></textarea>
								<input id="textArea1" th:value="${product.description}"
									th:hidden="true">
							</div>
							<div class="form-group_image">
								Image: <input class="image_choice" name="fileImage" type="file"
									id="formFile" accept="image/png, image/jpeg">
							</div>
							<div class="image_preview">
									<img alt="Image preview" id="thumbnail"
										style="width: 100px; height: 100px;">
							</div>
							<input type="submit" name="update" value="Update"
								class="shine-button">
						</form>
					</div>

				</div>


			</div>
		</main>

		<footer>
			<div class="container">
				<div class="footer_container">

					<div class="footer_block_menu one_spoiler_open">
						<div class="footer_block_spoiler ">
							<div class="footer_block_spoiler_menu_title"
								th:utext="#{label.contactsLink}"></div>
							<div class="footer_block_spoiler_menu_text">
								<div>
									<img src="#" th:src="@{/images/icons/icons-телефон.png}">
									Velcome +234234234234
								</div>
								<img src="#"
									th:src="@{/images/icons/icons-электронная-почта.png}">
								Mail mymail@mail.ru
							</div>
						</div>

						<div class="footer_block_spoiler">
							<div class="footer_block_spoiler_menu_title"
								th:utext="#{label.SocialLink}"></div>
							<div class="footer_block_spoiler_menu_text">
								<div>
									<a href="https://www.instagram.com/" class="society_link"><img
										src="#" th:src="@{/images/icons/icons-instagram.png}">
										Instagram</a>
								</div>
								<div>
									<a href="https://www.vk.com/" class="society_link"><img
										src="#" th:src="@{/images/icons/icons-вконтакте.png}">
										VK</a>
								</div>
								<div>
									<a href="https://www.viber.com/ru/" class="society_link"><img
										src="#" th:src="@{/images/icons/icons-viber.png}"> Viber</a>
								</div>
							</div>
						</div>
						<div class="footer_block_spoiler">
							<div class="footer_block_spoiler_menu_title"
								th:utext="#{label.UnitedInfoLink}"></div>
							<div class="footer_block_spoiler_menu_text"
								id="current_date_time_block2">Here will be located some
								general information</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script th:src="@{/js/l1.js}"></script>

	<script type="text/javascript">
		var val = $("#textArea1").val();
		document.querySelector("textArea").value = val;

		$(document).ready(function() {
			$('#formFile').change(function() {
				showImageThumbnail(this)
			});
		});

		function showImageThumbnail(fileInput) {
			file = fileInput.files[0];
			reader = new FileReader();
			reader.onload = function(e) {
				$('#thumbnail').attr('src', e.target.result);
			};
			reader.readAsDataURL(file);
		}
	</script>
</body>
</html>